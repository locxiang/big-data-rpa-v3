# 数字重庆业务数据巡查自动化系统 (Big Data RPA v3)

<div align="center">
  <h3>🚀 基于网络包捕获的智能业务自动化平台</h3>
  <p>专为大数据局多业务系统设计的自动化解决方案</p>
</div>

## 📋 项目概述

数字重庆业务数据巡查自动化系统是一个基于 **Tauri** 框架开发的跨平台桌面应用，通过网络包捕获技术获取业务系统的认证信息，并执行预设的自动化脚本，实现多个业务系统的智能化数据巡查操作。

### 核心特性

- 🔍 **智能包捕获**: 基于 pcap 技术实时监控网络流量
- 🔐 **权限自动获取**: 通过分析HTTP请求自动获取系统认证信息
- 🎯 **多系统支持**: 支持4-5个不同业务系统的自动化操作
- 🖥️ **友好界面**: 基于 Vue3 的现代化用户界面
- ⚡ **高性能**: Rust 后端确保处理速度和稳定性
- 🔧 **模块化设计**: 清晰的代码分层和模块划分

## 🏗️ 技术架构

### 前端技术栈
- **Vue 3**: 渐进式JavaScript框架
- **TypeScript**: 类型安全的JavaScript超集
- **Vite**: 现代化前端构建工具
- **Tauri API**: 前后端通信桥梁

### 后端技术栈
- **Rust**: 系统级编程语言，保证安全性和性能
- **pcap**: 网络包捕获核心库
- **etherparse**: 网络协议解析库
- **serde**: 序列化/反序列化框架
- **tokio**: 异步运行时

### 系统架构图

```
┌─────────────────────────────────────────────────────────────┐
│                      前端界面层 (Vue3)                        │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │   系统监控   │  │   任务管理   │  │   结果展示   │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
└─────────────────────────────────────────────────────────────┘
                              │
                         Tauri IPC
                              │
┌─────────────────────────────────────────────────────────────┐
│                      后端服务层 (Rust)                       │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │   包捕获模块  │  │   权限管理   │  │   脚本执行   │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
└─────────────────────────────────────────────────────────────┘
                              │
                         系统调用
                              │
┌─────────────────────────────────────────────────────────────┐
│                      系统底层                               │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐         │
│  │   网络接口   │  │   文件系统   │  │   进程管理   │         │
│  └─────────────┘  └─────────────┘  └─────────────┘         │
└─────────────────────────────────────────────────────────────┘
```

## 📁 项目结构

```
big-data-rpa-v3/
├── src/                          # 前端源码
│   ├── App.vue                   # 主应用组件
│   ├── main.ts                   # 前端入口文件
│   └── assets/                   # 静态资源
├── src-tauri/                    # 后端源码
│   ├── src/
│   │   ├── main.rs              # 后端入口
│   │   ├── lib.rs               # 库文件和命令定义
│   │   ├── packet_capture.rs    # 包捕获核心模块
│   │   └── admin_utils.rs       # 权限管理工具
│   ├── Cargo.toml               # Rust 依赖配置
│   └── tauri.conf.json          # Tauri 应用配置
├── pkg/                         # 系统权限包
│   ├── Install ChmodBPF.pkg     # macOS 权限安装包
│   └── Uninstall ChmodBPF.pkg   # macOS 权限卸载包
├── package.json                 # 前端依赖配置
└── README.md                    # 项目说明文档
```

## 🚀 快速开始

### 环境要求

- **Node.js**: ≥ 16.0.0
- **Rust**: ≥ 1.70.0
- **pnpm**: ≥ 8.0.0

### 安装步骤

1. **克隆项目**
   ```bash
   git clone https://github.com/your-username/big-data-rpa-v3.git
   cd big-data-rpa-v3
   ```

2. **安装依赖**
   ```bash
   pnpm install
   ```

3. **权限配置** (仅 macOS)
   ```bash
   # 安装网络捕获权限
   sudo installer -pkg pkg/Install\ ChmodBPF.pkg -target /
   ```

4. **启动开发服务器**
   ```bash
   pnpm tauri dev
   ```

### 生产构建

```bash
# 构建所有平台
pnpm tauri build

# 构建特定平台
pnpm tauri build --target x86_64-apple-darwin    # macOS
pnpm tauri build --target x86_64-pc-windows-msvc # Windows
pnpm tauri build --target x86_64-unknown-linux-gnu # Linux
```

## 🔧 核心功能模块

### 1. 包捕获模块 (packet_capture.rs)

负责监控网络流量，捕获HTTP请求，提取认证信息：

```rust
// 核心功能
- 网络设备检测和选择
- 实时包捕获和分析
- HTTP请求解析和过滤
- 认证信息提取
- 状态监控和报告
```

### 2. 权限管理模块 (admin_utils.rs)

处理系统权限验证和管理：

```rust
// 核心功能
- 系统权限检查
- ChmodBPF 安装状态验证
- 管理员权限提升
- 平台差异化处理
```

### 3. 前端界面层

提供用户友好的操作界面：

```vue
// 核心功能
- 实时状态监控
- 捕获日志展示
- 自动化任务管理
- 系统配置面板
```

## 🎯 支持的业务系统

| 系统编号 | 系统名称 | 功能描述 | 状态 |
|---------|---------|---------|------|
| 01 | 数据申报系统 | 自动化数据提交和审核 | 🟢 已实现 |
| 02 | 统计分析系统 | 报表生成和数据分析 | 🟡 开发中 |
| 03 | 档案管理系统 | 文档自动归档和检索 | 🟡 开发中 |
| 04 | 审批流程系统 | 自动化审批和流转 | 🔴 计划中 |
| 05 | 监控预警系统 | 异常检测和告警处理 | 🔴 计划中 |

## 📊 性能指标

- **包捕获速度**: > 1000 packets/秒
- **HTTP解析准确率**: > 99%
- **内存占用**: < 100MB
- **CPU使用率**: < 10% (空闲状态)
- **启动时间**: < 3秒

## 🛡️ 安全特性

- **权限最小化**: 仅申请必要的系统权限
- **数据加密**: 敏感信息本地加密存储
- **访问控制**: 基于角色的功能访问控制
- **审计日志**: 完整的操作记录和审计轨迹

## 🔍 故障排查

### 常见问题

1. **包捕获失败**
   ```bash
   # 检查权限
   sudo pnpm tauri dev
   
   # macOS 安装 ChmodBPF
   sudo installer -pkg pkg/Install\ ChmodBPF.pkg -target /
   ```

2. **依赖安装失败**
   ```bash
   # 清理缓存
   pnpm store prune
   rm -rf node_modules
   pnpm install
   ```

3. **构建失败**
   ```bash
   # 检查 Rust 版本
   rustup update stable
   
   # 清理构建缓存
   cargo clean
   ```

## 📈 开发路线图

- [x] v1.0 - 基础包捕获功能
- [x] v2.0 - HTTP解析和认证提取
- [x] v3.0 - 多系统支持和用户界面
- [ ] v3.1 - 任务调度和批处理
- [ ] v3.2 - 智能识别和自适应
- [ ] v4.0 - 云端同步和协作

## 🤝 贡献指南

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m '添加某个功能'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 📞 联系我们

- **项目维护**: [your-email@example.com](mailto:your-email@example.com)
- **技术支持**: [support@example.com](mailto:support@example.com)
- **问题反馈**: [GitHub Issues](https://github.com/your-username/big-data-rpa-v3/issues)

---

<div align="center">
  <p>⭐ 如果这个项目对您有帮助，请给我们一个 Star!</p>
</div>
